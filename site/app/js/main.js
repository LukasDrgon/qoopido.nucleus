!function(e,t,n){"use strict";function i(t){t.configure({pattern:{"/nucleus":"//cdn.jsdelivr.net/qoopido.nucleus/1.0.0","/velocity":"//cdn.jsdelivr.net/velocity/1.2.3/velocity.min","/prism/js":"//cdn.jsdelivr.net/prism/1.2.0/prism.js","/prism/css":"//cdn.jsdelivr.net/prism/1.2.0/themes/prism-okaidia.css"},modules:{"/demand/handler/legacy":{"/velocity":{probe:function(){return e.Velocity}},"/prism/js":{probe:function(){return e.Prism}}}}});var n,i=Array.prototype.slice,o=document.documentElement,r=/(.+)\.(jp(e?)g|hig|png|webp)$/i,a=window.location.hash,s={};return a&&(n=document.getElementById("section-"+a.slice(1)))&&e.scrollTo(0,n.offsetTop),t("/nucleus/dom/element","/nucleus/dom/element/appear","/nucleus/component/iterator","/nucleus/function/debounce").then(function(n,c,l,p){function u(){for(s.width=e.innerWidth||o.clientWidth,s.height=e.innerHeight||o.clientHeigh,s.dpr=Math.min(2,e.devicePixelRatio||1),h=0;g=k[h];h++)g.observe&&d(g)}function d(e){e.style.backgroundImage="url("+e.image.replace(r,"$1."+s.width+"x"+s.height+"@"+100*s.dpr.toFixed(2)+".$2")+")"}var m,h,g,f,y,v=new n(e),b=new n("body"),w=new n("<nav />",{itemscope:!0,itemtype:"http://schema.org/SiteNavigationElement",role:"navigation"}),k=i.call(document.querySelectorAll('main [itemtype="http://schema.org/WebPageElement"]')),S=[];for(m=(new l).on("preSeek postSeek",function(e){k[m.index||0].marker.setAttribute("aria-selected","postSeek"===e?"true":"false")}),b.on("appear",'[itemtype="http://schema.org/WebPageElement"]',function(t,n){1===n.priority&&(e.location.hash=this.hash,m.seek(this.index)),d(this),this.observe=!0}).on("disappear",'[itemtype="http://schema.org/WebPageElement"]',function(){delete this.observe}).on("click",'[href="#snippet"]',function(e){var n=this;e.preventDefault(),e.stopPropagation(),t("./snippet").then(function(e){new e(n.parentNode)})}),h=0;g=k[h];h++)a=g.id.slice(8),f=document.querySelector("#"+g.id+' [itemprop="headline"]').textContent,g.hash=a,g.index=h,g.image=document.querySelector("#"+g.id+' [itemprop="image"]').getAttribute("content"),g.marker=new n("<a />",{href:"#"+a,itemprop:"url",title:f},{left:"48px",opacity:0}).setContent(f).appendTo(w),g.setAttribute("data-hash",a),new c(g,{auto:2}),S.push(g.marker);v.on("resize orientationchange",p(u)),u(),m.setData(k),w.insertBefore("#github"),t("legacy!/velocity").then(function(e){for(h=0;y=S[h];h++)e(y.element,{left:0,opacity:1},{duration:100,easing:"easeOutQuad",delay:50*(h+10)});b.on("click",'[itemtype="http://schema.org/SiteNavigationElement"] a',function(t){t.preventDefault(),t.stopPropagation(),e(document.querySelector('[data-hash="'+this.hash.slice(1)+'"]'),"scroll",{duration:600,easing:"easeInOutCubic"})})})}),!0}n(["demand"],i)}(this,demand,provide);
//# sourceMappingURL=main.js.map
