{"version":3,"sources":["snippet.src.js"],"names":["definition","demand","DomElement","Velocity","Prism","hide","element","opacity","bottom","duration","easing","display","current","show","Snippet","section","container","id","pointer","storage","class","itemscope","itemtype","then","source","setContent","highlightElement","firstChild","appendTo","on","provide"],"mappings":"CAAC,WACA,YAEA,SAASA,GAAWC,EAAQC,EAAYC,EAAUC,GASjD,QAASC,GAAKC,GACbH,EAASG,GAAWC,QAAS,EAAGC,OAAQ,WAAcC,SAAU,IAAKC,OAAQ,aAAcC,QAAS,SAEpGC,EAAU,KAGX,QAASC,GAAKP,GACVA,IAAYM,IACdA,GAAWP,EAAKO,GAEhBT,EAASG,GAAWC,QAAS,EAAGC,OAAQ,WAAcC,SAAU,IAAKC,OAAQ,cAAeC,QAAS,UAErGC,EAAUN,GAKZ,QAASQ,GAAQC,GAChB,GAECC,GAFGC,EAAUF,EAAQE,GACrBC,EAAUC,EAAQF,EAGfC,GAcHL,EAAKK,EAAQZ,UAbbU,EAAY,GAAId,GAAW,aAAekB,QAAO,UAAWC,WAAW,EAAMC,SAAU,6CAAgDX,QAAS,OAAQJ,QAAS,IAEjKN,EAAO,8BAAgCgB,EAAK,QAC1CM,KAAK,SAASC,GACdR,EAAUS,WAAW,0CAA4CD,EAAS,iBAAiB,GAC3FpB,EAAMsB,iBAAiBV,EAAUV,QAAQqB,WAAWA,YAEpDX,EAAUY,SAASb,GACnBF,EAAKG,EAAUV,SAEfa,EAAQF,GAAMD,KAzClB,GACCJ,GADGO,IAgDJ,OA7CA,IAAIjB,GAAW,QACb2B,GAAG,QAAS,WACZjB,GAAWP,EAAKO,KA2CXE,EAGRgB,SAAU,SAAU,uBAAwB,mBAAoB,mBAAoB,iBAAkB,0BAA4B9B","file":"snippet.js","sourcesContent":["(function() {\n\t'use strict';\n\n\tfunction definition(demand, DomElement, Velocity, Prism) {\n\t\tvar storage = {},\n\t\t\tcurrent;\n\n\t\tnew DomElement('body')\n\t\t\t.on('click', function() {\n\t\t\t\tcurrent && hide(current);\n\t\t\t});\n\n\t\tfunction hide(element) {\n\t\t\tVelocity(element, { opacity: 0, bottom: '7.8rem' }, { duration: 100, easing: 'easeInQuad', display: 'none' });\n\n\t\t\tcurrent = null;\n\t\t}\n\n\t\tfunction show(element) {\n\t\t\tif(element !== current) {\n\t\t\t\tcurrent && hide(current);\n\n\t\t\t\tVelocity(element, { opacity: 1, bottom: '6.8rem' }, { duration: 100, easing: 'easeOutQuad', display: 'block' });\n\n\t\t\t\tcurrent = element;\n\t\t\t}\n\n\t\t}\n\n\t\tfunction Snippet(section) {\n\t\t\tvar id      = section.id,\n\t\t\t\tpointer = storage[id],\n\t\t\t\tcontainer;\n\n\t\t\tif(!pointer) {\n\t\t\t\tcontainer = new DomElement('<aside />', { class: 'snippet', itemscope: true, itemtype: 'http://schema.org/WebPageElement/Snippet' }, { display: 'none', opacity: 0 });\n\n\t\t\t\tdemand('text!../../assets/snippets/' + id + '.txt')\n\t\t\t\t\t.then(function(source) {\n\t\t\t\t\t\tcontainer.setContent('<pre><code class=\"language-javascript\">' + source + '</code></pre>', true);\n\t\t\t\t\t\tPrism.highlightElement(container.element.firstChild.firstChild);\n\n\t\t\t\t\t\tcontainer.appendTo(section);\n\t\t\t\t\t\tshow(container.element);\n\n\t\t\t\t\t\tstorage[id] = container;\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tshow(pointer.element);\n\t\t\t}\n\t\t}\n\n\t\treturn Snippet;\n\t}\n\n\tprovide([ 'demand', '/nucleus/dom/element', 'legacy!/velocity', 'legacy!/prism/js', 'css!/prism/css', 'css!../css/snippet.css' ], definition);\n}());"],"sourceRoot":"/source/"}