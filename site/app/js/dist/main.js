!function(e,t,n,i,r,o){"use strict";function a(n){n.configure({pattern:{"/nucleus":"//cdn.jsdelivr.net/qoopido.nucleus/1.0.0","/velocity":"//cdn.jsdelivr.net/velocity/1.2.3/velocity.min","/prism/js":"//cdn.jsdelivr.net/prism/1.2.0/prism.js","/prism/css":"//cdn.jsdelivr.net/prism/1.2.0/themes/prism-okaidia.css"},modules:{"/demand/handler/legacy":{"/velocity":{probe:function(){return e.Velocity}},"/prism/js":{probe:function(){return e.Prism}}}}});var i=Array.prototype.slice,a=t.documentElement,s=/(.+)\.(jp(e?)g|gif|png|webp)$/i,c=(t.location.hash||"#intro").substr(1),u={};return function(){var n=t.querySelector("#section-"+c),i=n.querySelector('[itemprop="image"]').getAttribute("content"),r=100*Math.ceil((e.innerWidth||a.clientWidth)/100),o=100*Math.ceil((e.innerHeight||a.clientHeight)/100),u=100*Math.min(2,e.devicePixelRatio||1).toFixed(2);n.style.backgroundImage="url("+i.replace(s,"$1."+r+"x"+o+"@"+u+".$2")+")",t.addEventListener("touchstart",function(e){e.preventDefault()},!1),t.addEventListener("touchmove",function(e){e.preventDefault()},!1)}(),n("/nucleus/dom/element","/nucleus/support/css/property").then(function(l,p){function h(){var t="";for(u.width=100*Math.ceil((e.innerWidth||a.clientWidth)/100),u.height=100*Math.ceil((e.innerHeight||a.clientHeight)/100),u.dpr=Math.min(2,e.devicePixelRatio||1),v=0;y=q[v];v++)t+='a[id="'+y.hash+'"]:target ~ main { '+p("transform")[0]+": translateY(-"+y.offsetTop+"px); }",y.observe&&m(y);E.styleSheet?E.styleSheet.cssText=t:E.textContent=t}function d(){var e=this;e.observe&&(e.style.backgroundImage="url("+e.image.replace(s,"$1."+u.width+"x"+u.height+"@"+100*u.dpr.toFixed(2)+".$2")+")")}function m(e){e.timeout&&o(e.timeout),e.timeout=r(d.bind(e),200)}function f(){this.setStyles({opacity:1,left:0,bottom:0})}var g,v,y,b,x,S=new l(e),k=new l(t.head||t.querySelector("head")),w=new l("body"),j=new l("<nav />",{itemscope:!0,itemtype:"http://schema.org/SiteNavigationElement",role:"navigation"}),E=t.createElement("style"),q=i.call(t.querySelectorAll('main [itemtype="http://schema.org/WebPageElement"]')),P=[];for(w.on("appear",'[itemtype="http://schema.org/WebPageElement"]',function(e,t){g&&1===t.priority&&g.seek(this.index),m(this),this.observe=!0}).on("disappear",'[itemtype="http://schema.org/WebPageElement"]',function(e,t){1===t.priority&&delete this.observe}).on("click",'[href="#snippet"]',function(e){var t=this;e.preventDefault(),e.stopPropagation(),n("./snippet").then(function(e){new e(t.parentNode)})}),v=0;y=q[v];v++)c=y.id.slice(8),b=t.querySelector("#"+y.id+' [itemprop="headline"]').textContent,y.hash=c,y.index=v,y.image=t.querySelector("#"+y.id+' [itemprop="image"]').getAttribute("content"),y.marker=new l("<a />",{href:"#"+c,itemprop:"url",title:b}).appendTo(j),y.setAttribute("data-hash",c),P.push(y.marker);for(j.insertBefore("#github"),k.append(E),v=0;x=P[v];v++)r(f.bind(x),25*v);n("/nucleus/dom/element/appear").then(function(e){for(v=0;y=q[v];v++)new e(y,{auto:2});n("/nucleus/function/debounce").then(function(e){S.on("resize orientationchange",e(h)).emit("resize")}),n("/nucleus/component/iterator").then(function(e){g=(new e).on("preSeek postSeek",function(e){q[g&&g.index||0].marker.setAttribute("aria-selected","postSeek"===e?"true":"false")}).setData(q),n("./snippet")})})}),!0}i(["demand"],a)}(this,document,demand,provide,setTimeout,clearTimeout);
//# sourceMappingURL=main.js.map
