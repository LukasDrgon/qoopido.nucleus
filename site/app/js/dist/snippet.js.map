{"version":3,"sources":["snippet.js"],"names":["definition","demand","DomElement","Prism","hide","element","remove","current","show","replace","appendTo","body","Snippet","section","container","id","getAttribute","pointer","storage","class","itemscope","itemtype","then","source","setContent","highlightElement","firstChild","on","provide"],"mappings":"CAAC,WACA,YAEA,SAASA,GAAWC,EAAQC,EAAYC,GAUvC,QAASC,GAAKC,GACbA,EAAQC,SAERC,EAAU,KAGX,QAASC,GAAKH,GACVA,IAAYE,IACdA,EAAUA,EAAUF,EAAQI,QAAQF,GAAWF,EAAQK,SAASC,IAKlE,QAASC,GAAQC,GAChB,GAECC,GAFGC,EAAUF,EAAQG,aAAa,aAClCC,EAAUC,EAAQH,EAGfE,GAaHT,EAAKS,IAZLH,EAAY,GAAIZ,GAAW,aAAeiB,QAAO,UAAWC,WAAW,EAAMC,SAAU,6CAEvFpB,EAAO,8BAAgCc,EAAK,QAC1CO,KAAK,SAASC,GACdT,EAAUU,WAAW,0CAA4CD,EAAS,iBAAiB,GAC3FpB,EAAMsB,iBAAiBX,EAAUT,QAAQqB,WAAWA,YAEpDlB,EAAKM,GAELI,EAAQH,GAAMD,KArClB,GAECP,GAFGI,EAAU,GAAIT,GAAW,QAC5BgB,IA4CD,OAzCA,IAAIhB,GAAW,QACbyB,GAAG,QAAS,WACZpB,GAAWH,EAAKG,KAuCXK,EAGRgB,SAAU,SAAU,uBAAwB,mBAAoB,iBAAkB,iCAAkC,wBAA0B5B","file":"snippet.js","sourcesContent":["(function() {\n\t'use strict';\n\n\tfunction definition(demand, DomElement, Prism) {\n\t\tvar body    = new DomElement('body'),\n\t\t\tstorage = {},\n\t\t\tcurrent;\n\n\t\tnew DomElement('body')\n\t\t\t.on('click', function() {\n\t\t\t\tcurrent && hide(current);\n\t\t\t});\n\n\t\tfunction hide(element) {\n\t\t\telement.remove();\n\n\t\t\tcurrent = null;\n\t\t}\n\n\t\tfunction show(element) {\n\t\t\tif(element !== current) {\n\t\t\t\tcurrent = current ? element.replace(current) : element.appendTo(body);\n\t\t\t}\n\n\t\t}\n\n\t\tfunction Snippet(section) {\n\t\t\tvar id      = section.getAttribute('data-hash'),\n\t\t\t\tpointer = storage[id],\n\t\t\t\tcontainer;\n\n\t\t\tif(!pointer) {\n\t\t\t\tcontainer = new DomElement('<aside />', { class: 'snippet', itemscope: true, itemtype: 'http://schema.org/WebPageElement/Snippet' });\n\n\t\t\t\tdemand('text!../../assets/snippets/' + id + '.txt')\n\t\t\t\t\t.then(function(source) {\n\t\t\t\t\t\tcontainer.setContent('<pre><code class=\"language-javascript\">' + source + '</code></pre>', true);\n\t\t\t\t\t\tPrism.highlightElement(container.element.firstChild.firstChild);\n\n\t\t\t\t\t\tshow(container);\n\n\t\t\t\t\t\tstorage[id] = container;\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tshow(pointer);\n\t\t\t}\n\t\t}\n\n\n\t\treturn Snippet;\n\t}\n\n\tprovide([ 'demand', '/nucleus/dom/element', 'legacy!/prism/js', 'css!/prism/css', 'css!../../css/dist/snippet.css', '/demand/handler/text' ], definition);\n}());"],"sourceRoot":"/source/"}