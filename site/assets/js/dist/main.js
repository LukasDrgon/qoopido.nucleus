!function(e,t,n,i,o,r){"use strict";function a(n){n.configure({pattern:{"/nucleus":"//cdn.jsdelivr.net/qoopido.nucleus/1.0.9","/probe":"https://probe.qoopido.com/1.0.0/beacon.js","/prism/js":"//cdn.jsdelivr.net/prism/1.3.0/prism.js","/prism/css":"//cdn.jsdelivr.net/prism/1.3.0/themes/prism-okaidia.css"},modules:{"/demand/handler/legacy":{"/prism/js":{probe:function(){return e.Prism}}}}});var i,a=Array.prototype.slice,c=t.documentElement,s=/(.+)\.(jp(e?)g|gif|png|webp)$/i,u=(t.location.hash||"#intro").substr(1),l={};return function(){var n=t.querySelector("#section-"+u),o=100*Math.ceil((e.innerWidth||c.clientWidth)/100),r=100*Math.ceil((e.innerHeight||c.clientHeight)/100),a=100*Math.min(2,e.devicePixelRatio||1).toFixed(2);i=n.querySelector('[itemprop="image"]').getAttribute("content").replace(s,"$1."+o+"x"+r+"@"+a+".$2"),n.style.backgroundImage="url("+i+")",t.addEventListener("touchstart",function(e){"a"!==e.target.nodeName.toLowerCase()&&e.preventDefault()},!1),t.addEventListener("touchmove",function(e){e.preventDefault()},!1),t.addEventListener("touchend",function(e){e.preventDefault()},!1)}(),n("/nucleus/dom/element","/nucleus/support/css/property").then(function(p,h){function d(){var t="";for(l.width=100*Math.ceil((e.innerWidth||c.clientWidth)/100),l.height=100*Math.ceil((e.innerHeight||c.clientHeight)/100),l.dpr=Math.min(2,e.devicePixelRatio||1),w=0;x=A[w];w++)t+='a[id="'+x.hash+'"]:target ~ main { '+h("transform")[0]+": translateY(-"+x.offsetTop+"px); }",x.observe&&y(x);W.styleSheet?W.styleSheet.cssText=t:W.textContent=t}function m(e){g(e.deltaY)}function f(e){var t,n,i,o=e.timeStamp,r=e.originalEvent.targetTouches;switch(e.type){case"touchstart":1===r.length&&(T.started=o,T.oy=r[0].clientY);break;case"touchmove":1===r.length&&(T.moved=o,T.ly=r[0].clientY);break;case"touchend":t=new p(e.target),T.moved?(n=T.ly-T.oy,i=n/(T.moved-T.started)||0,Math.abs(n)>10&&Math.abs(i)>.5?g(-n):t.emit("click")):t.emit("click"),T.started=null,T.moved=null;break;case"touchcancel":T.started=null,T.moved=null}}function g(e){k&&e&&(k[e>0?"next":"previous"](),A[k.index].marker.emit("click"))}function v(){var e=this;e.observe&&(e.style.backgroundImage="url("+e.image.replace(s,"$1."+l.width+"x"+l.height+"@"+100*l.dpr.toFixed(2)+".$2")+")")}function y(e){e.timeout&&r(e.timeout),e.timeout=o(v.bind(e),200)}function b(){this.setStyles({opacity:1,left:0,bottom:0})}var k,w,x,S,E,j=new p(e),q=new p(t.head||t.querySelector("head")),M=new p("body"),P=new p("<nav />",{itemscope:!0,itemtype:"http://schema.org/SiteNavigationElement",role:"navigation"}),W=t.createElement("style"),A=a.call(t.querySelectorAll('main [itemtype="http://schema.org/WebPageElement"]')),T={started:null,moved:null,oy:null,ly:null},D=[];for(W.type="text/css",n("/nucleus/function/debounce").then(function(e){j.on("mousewheel wheel",e(m,100)),j.on("touchstart touchmove touchend touchcancel",f)}),M.on("appear",'[itemtype="http://schema.org/WebPageElement"]',function(e,t){k&&1===t.priority&&k.seek(this.index),y(this),this.observe=!0}).on("disappear",'[itemtype="http://schema.org/WebPageElement"]',function(e,t){1===t.priority&&delete this.observe}).on("click",'[href="#snippet"]',function(e){var t=this;e.preventDefault(),e.stopPropagation(),n("./snippet").then(function(e){new e(t.parentNode)})}),w=0;x=A[w];w++)u=x.id.slice(8),S=t.querySelector("#"+x.id+' [itemprop="headline"]').textContent,x.hash=u,x.index=w,x.image=t.querySelector("#"+x.id+' [itemprop="image"]').getAttribute("content"),x.marker=new p("<a />",{href:"#"+u,itemprop:"url",title:S}).appendTo(P),x.setAttribute("data-hash",u),D.push(x.marker);for(P.insertBefore("#github"),q.append(W),w=0;E=D[w];w++)o(b.bind(E),25*w);n("/nucleus/dom/element/appear").then(function(t){for(w=0;x=A[w];w++)new t(x,{auto:2});n("/nucleus/function/debounce").then(function(e){j.on("resize orientationchange",e(d)).emit("resize")}),n("/nucleus/component/iterator").then(function(t){k=new t(null,{loop:!1}).on("preSeek postSeek",function(e){A[k&&k.index||0].marker.setAttribute("aria-selected","postSeek"===e?"true":"false")}).setData(A),n("./snippet","./ga"),"performance"in e&&n("./rum").then(function(e){e(i)})})})}),!0}i(["demand"],a)}(this,document,demand,provide,setTimeout,clearTimeout);
//# sourceMappingURL=main.js.map
